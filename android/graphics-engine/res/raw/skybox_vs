precision mediump float;
uniform mat4 u_WorldView;		    // we need vector from vertex to eye
uniform mat4 u_WorldViewProjection;	// normal transform for vertex
uniform mat4 u_ModelViewMatrix;     // model matrix

// in
attribute vec3 in_Position;
attribute vec3 in_Normal;
attribute vec2 in_TexCoords;

// out
varying vec2 v_TexCoords;
varying vec3 v_Normal;

void main() {
  vec4 position =  u_WorldView *  u_ModelViewMatrix * vec4(in_Position, 1.);
  v_Normal = (u_WorldView * u_ModelViewMatrix * vec4(in_Normal, 0.0)).xyz;
  gl_Position = u_WorldViewProjection * position;
  v_TexCoords = in_TexCoords;
}
